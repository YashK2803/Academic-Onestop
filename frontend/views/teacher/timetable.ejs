<%- include('../partials/header') %>
<%- include('../partials/navbar', { user: user }) %>

<div class="container mt-4">
  <h2>My Timetable</h2>

  <% if (error) { %>
    <div class="alert alert-danger"><%= error %></div>
  <% } %>

  <table class="table table-bordered mt-3">
    <thead class="table-light">
      <tr>
        <th>Day</th>
        <th>Start Time</th>
        <th>End Time</th>
        <th>Subject</th>
        <th>Class</th>
        <th>Room</th>
      </tr>
    </thead>
    <tbody>
      <% if (timetables.length === 0) { %>
        <tr><td colspan="6" class="text-center">No timetable available</td></tr>
      <% } else { %>
        <% timetables.forEach(t => { %>
          <tr>
            <td><%= t.day %></td>
            <td><%= t.startTime.slice(0, 5) %></td>
            <td><%= t.endTime.slice(0, 5) %></td>
            <td><%= t.subject %></td>
            <td><%= t.classId %></td>
            <td><%= t.room %></td>
          </tr>
        <% }) %>
      <% } %>
    </tbody>
  </table>
</div>

<%- include('../partials/footer') %>
